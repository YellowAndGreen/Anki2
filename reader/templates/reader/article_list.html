{% extends "reader/base.html" %}
{% load static %}

{% block title %}Reader{% endblock %}


{% block Reader %}active{% endblock %}

{% block content %}
    <div class="mt-2">
    <!--
    <a class="btn btn-outline-primary float-end" role="button" onClick="location.href='{% url "reader:update_article"%}'">更新库</a>
    -->


    </div>

    <div class="row justify-content-center">
        {% for article in articles %}

            <div class="card col-md-1 m-2 col-lg-3" aria-hidden="true" >
                {% if article.top_image_url != 'none' %}
                    <img src="{{ article.top_image_url }}" class="card-img-top placeholder-glow" alt="..." onclick="location.href='{% url 'reader:article_detailview' article.id%}'">
                {% endif %}
                <div class="card-body">
                    <a class="card-title h5"
                       href="{% url 'reader:article_detailview' article.id %}">{{ article.title| truncatewords:10 }}</a>
                    <p class="card-text">{{ article.content | truncatewords:20 }}</p>
                </div>
            </div>

        {% endfor %}
    </div>

    <nav class="mt-2" aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
            <li class="page-item {% if articles.has_previous %}{% else %}disabled{% endif %}">
                <a class="page-link" href="?page={% if articles.has_previous %}{{ articles.previous_page_number }}{% else %}{{ articles.number }}{% endif %}">Previous</a>
            </li>
            {% for page_num in articles.paginator.page_range %}
                <li class="page-item {% if  articles.number  == page_num %}disabled{% endif %}"><a class="page-link" href="?page={{ page_num }}" >{{ page_num }}</a></li>
            {% endfor %}
            <li class="page-item {% if articles.has_next %}{% else %}disabled{% endif %}" >
                <a class="page-link " href="?page={% if articles.has_next %}{{ articles.next_page_number }}{% else %}{{ articles.number }}{% endif %}">Next</a>
            </li>
        </ul>
    </nav>

{% endblock %}



